<!-- catalog_products.html -->
{% extends "./layout.html" %}

{% load static %}
{% load i18n %}
{% block title%}{{catalog.cat_name}} - 1.2.3 Sold{% endblock %}
{% block head %}

<link rel="stylesheet" href="{% static 'dashboard/css/style.css' %}" type="text/css">

{% endblock %}

{% block body %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
</style>
{% include "./includes/navbar.html" with cat_list=catalogue_list %}
<br>
{% include "./arrow_button.html" %}
<button onclick="goBack()" class="btn btn-light"><i class="fa-solid fa-arrow-left"></i></button>
<button onclick="goForward()" class="btn btn-light"><i class="fa-solid fa-arrow-right"></i></button>
<div class="container">
    <div class="row poppins-regular-catalog">
        {% comment %} <h1>{{ catalog.cat_name }}</h1> {% endcomment %}
        <div class="row">
            {% for product in product_object_list %}
            <div class="product-card col-6 col-md-4 col-xxl-2">
                <div class="app-card app-card-doc shadow-sm h-100">
                    <div class="app-card-thumb-holder p-3">
                        <div class="app-card-thumb">
                            <img class="thumb-image" src="{{ MEDIA_URL }}{{ product.product_image }}" alt="">
                        </div>
                    </div>
                    <div class="app-card-body p-3 has-card-actions">
                        <h4 style="color:black;" class="app-doc-title truncate mb-0">{{ product.product_name }}
                        </h4><br>
                        <div class="app-doc-meta">
                            <ul class="list-unstyled mb-0">
                                <li><span class="text-muted">Catalogue:</span> <span class="text-details">{{ product.product_cat }}</span></li>
                                <li><span class="text-muted">ID:</span> <span class="text-details">{{ product.product_id }}</span></li>
                                <li><span class="text-muted">End on:</span> <span class="text-details">{{ product.end_date }}</span></li>
                            </ul>
                            <div class="btn-group d-flex mx-auto mb-2 mt-2" role="group" aria-label="Basic outlined example">
                                <a href="{% url 'art:product_details' pk=product.pk %}" type="button" class="btn btn-warning btn-sm">Details</a>
                            </div>
                            <div class="d-grid gap-2">
                                <a class="btn btn-primary" type="button" href="{% url 'art:view_3d' id=product.id %}">View in 3D</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <h3 class="open-sans-empty dark-mode-heading">No artworks to show</h3>
            {% endfor %}
        </div>
        <button onclick="topFunction()" id="back-to-top-btn" title="Go to top"><i class="fa-solid fa-angles-up"></i></button>
    </div>
</div>
{% endblock %}

{% block script %}
<script>

    // Get the button
    var mybutton = document.getElementById("back-to-top-btn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }
    
</script>
{% endblock %}
