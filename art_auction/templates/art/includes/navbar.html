{% load static %}
<head>
<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'dashboard/css/navbar.css' %}"
/>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
  rel="stylesheet"
/>
</head>
<nav
  class="navbar navbar-expand-lg bg-dark border-body open-sans-navbar"
  data-bs-theme="dark"
>
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img
        src="{% static 'logo.jpeg' %}"
        alt=""
        width="30"
        height="24"
        class="d-inline-block align-text-top"
      />
      1.2.3 Sold
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="{% url 'art:index' %}"
            >Home</a
          >
        </li>

        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Catalogues
          </a>
    
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            

    
            {% for cat in catalogue_list %}
            <li><a class="dropdown-item open-sans-catalog" href="{% url 'art:catalog_products' id=cat.id %}">{{ cat }}</a></li>
  {% comment %} <a class="nav-link" href="{% url 'art:contact' %}">{{cat}}</a> {% endcomment %}
            </li>

{% endfor %}

          </ul>
        </li>

        {% comment %} <li class="nav-item">
          <a class="nav-link" href="{% url 'art:contact' %}">Contact</a>
        </li> {% endcomment %}
        {% comment %} <li class="nav-item">
          <a class="nav-link" href="{% url 'art:about' %}">About</a>
        </li> {% endcomment %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'art:unsold_items' %}"
            >Unsold items</a
          >
        </li>

        
        {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'dashboard:dashboard' %}">Dashboard</a>
        </li>
        
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'art:register_seller' %}">Become a seller</a>

        </li>
        {% endif %}
      </ul>
      
    
      <div class="d-flex align-items-center">
        {% if user.is_authenticated %}
        
        <span class="me-3">Welcome, {{ user.username }}</span>
        <a
          href="{% url 'art:logout' %}"
          type="button"
          class="btn btn-danger me-2"
          >Logout</a
        >
        
        
        <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
          <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
            <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
            <hr class="d-lg-none my-2 text-white-50">
          </li>  

          <li class="nav-item-mode dropdown-mode">
            <button class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle dropdown-toggle-mode d-flex align-items-center"
                    id="bd-theme"
                    type="button"
                    aria-expanded="false"
                    data-bs-toggle="dropdown"
                    data-bs-display="static"
                    aria-label="Toggle theme">
              <i class="fas fa-adjust"></i>
              <span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-mode dropdown-menu-end" aria-labelledby="bd-theme-text">
              <li>
                <a type="button" class="dropdown-item" data-theme="light">Light</a>
              </li>
              <li>
                <a type="button" class="dropdown-item" data-theme="dark">Dark</a>
              </li>
              {% comment %} <li>
                <a type="button" class="dropdown-item" data-theme="auto">Auto</a>
              </li> {% endcomment %}
            </ul>
          </li>
          
        </ul>
        <button class="btn btn-dark">
          <i class="fa-solid fa-bell" id="notification-bell"></i>
        </button>

<div id="notification-dropdown" class="dropdown-menu">
    <ul>
        {% for notification in notifications %}
        <li>{{ notification.message }}</li>
        {% endfor %}
    </ul>
</div>
        {% else %}
        <a
          href="{% url 'art:login' %}"
          type="button"
          class="btn btn-success me-2"
          >Login</a
        >
        <a
          href="{% url 'art:register_user' %}"
          type="button"
          class="btn btn-primary"
          >Register</a
        >
        {% endif %}

        {% comment %} <input type="checkbox" class="checkbox" id="checkbox">
        <label for="checkbox" class="checkbox-label">
          <i class="fa-solid fa-moon"></i>
          <i class="fa-solid fa-sun"></i>
    <span class="ball"></span>
  </label> {% endcomment %}
        {% comment %} <button id="dark-mode-toggle">Dark Mode</button> {% endcomment %}
        
        {% comment %} <label class="switch">
          <span class="sun">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <g fill="#ffd43b">
                <circle r="5" cy="12" cx="12"></circle>
                <path
                  d="m21 13h-1a1 1 0 0 1 0-2h1a1 1 0 0 1 0 2zm-17 0h-1a1 1 0 0 1 0-2h1a1 1 0 0 1 0 2zm13.66-5.66a1 1 0 0 1 -.66-.29 1 1 0 0 1 0-1.41l.71-.71a1 1 0 1 1 1.41 1.41l-.71.71a1 1 0 0 1 -.75.29zm-12.02 12.02a1 1 0 0 1 -.71-.29 1 1 0 0 1 0-1.41l.71-.66a1 1 0 0 1 1.41 1.41l-.71.71a1 1 0 0 1 -.7.24zm6.36-14.36a1 1 0 0 1 -1-1v-1a1 1 0 0 1 2 0v1a1 1 0 0 1 -1 1zm0 17a1 1 0 0 1 -1-1v-1a1 1 0 0 1 2 0v1a1 1 0 0 1 -1 1zm-5.66-14.66a1 1 0 0 1 -.7-.29l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41 1 1 0 0 1 -.71.29zm12.02 12.02a1 1 0 0 1 -.7-.29l-.66-.71a1 1 0 0 1 1.36-1.36l.71.71a1 1 0 0 1 0 1.41 1 1 0 0 1 -.71.24z"
                ></path>
              </g>
            </svg>
          </span>
          <span class="moon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
              <path
                d="m223.5 32c-123.5 0-223.5 100.3-223.5 224s100 224 223.5 224c60.6 0 115.5-24.2 155.8-63.4 5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6-96.9 0-175.5-78.8-175.5-176 0-65.8 36-123.1 89.3-153.3 6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
              ></path>
            </svg>
          </span>
          <input
            type="checkbox"
            class="input"
            id="dark-mode-toggle"
            {%
            if
            dark_mode
            %}checked{%
            endif
            %}
          />
          <span class="slider"></span>
        </label> {% endcomment %}
      </div>
    </div>
  </div>
</nav>

<script>
 // Wait for the DOM content to be fully loaded
document.addEventListener('DOMContentLoaded', () => {
  // Get references to theme-related elements
  const themeButton = document.getElementById('bd-theme');
  const themeText = document.getElementById('bd-theme-text');
  const themeItems = document.querySelectorAll('.dropdown-item');

  // Function to set the theme
  const setTheme = (theme) => {
      // Remove all existing theme classes from the body
      document.body.classList.remove('light-mode', 'dark-mode', 'auto-mode');

      // Apply the selected theme class to the body
      if (theme === 'light') {
          document.body.classList.add('light-mode');
          themeText.innerText = 'Light Mode';
      } else if (theme === 'dark') {
          document.body.classList.add('dark-mode');
          themeText.innerText = 'Dark Mode';
      } else {
          // If auto mode is selected, determine the theme based on system preference
          const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
          if (prefersDarkScheme) {
              document.body.classList.add('dark-mode');
          } else {
              document.body.classList.add('light-mode');
          }
          themeText.innerText = 'Auto Mode';
      }

      // Save the selected theme to localStorage
      localStorage.setItem('theme', theme);
  };

  // Event listener for theme items
  themeItems.forEach(item => {
      item.addEventListener('click', (e) => {
          const theme = e.target.getAttribute('data-theme');
          setTheme(theme);
      });
  });

  // Load the saved theme from localStorage
  const savedTheme = localStorage.getItem('theme') || 'auto';
  setTheme(savedTheme);
});



  
</script>
